import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns

df = pd.read_excel("/content/medicine dataset.xlsx")
print(df.head())

high_chol = df[df['Patient condition'].str.contains("Cholesterol", case=False, na=False)]
print(high_chol)

def get_medicine(patient_id):
    record = df[df['Patient_ID'] == patient_id]
    if record.empty:
        return "No patient found."
    return record[['Patient condition', 'Medicine recommendation']]


print(get_medicine(3))

def recommend_from_cholesterol(value):
    if value > 240:
        return "Statins + Omega-3 + fiber supplements"
    elif 200 < value <= 240:
        return "Omega-3 & fiber supplements"
    else:
        return "No medicine required"

df['Auto_Recommendation'] = df['Cholesterol'].apply(recommend_from_cholesterol)
print(df[['Patient_ID','Cholesterol','Auto_Recommendation']])

plt.figure(figsize=(12, 7))
sns.scatterplot(data=df, x='Patient_ID', y='Cholesterol', hue='Auto_Recommendation', s=100, alpha=0.8)
plt.title('Cholesterol Levels and Auto-Recommendations per Patient')
plt.xlabel('Patient ID')
plt.ylabel('Cholesterol Level')
plt.grid(True, linestyle='--', alpha=0.6)
plt.ylabel('Cholesterol Level')
plt.grid(True, linestyle='--', alpha=0.6)
plt.legend(title='Auto Recommendation', bbox_to_anchor=(1.05, 1), loc='upper left')
plt.tight_layout()
plt.show()